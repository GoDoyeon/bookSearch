(this.webpackJsonpbookSearch=this.webpackJsonpbookSearch||[]).push([[0],{44:function(n,e,t){},69:function(n,e,t){"use strict";t.r(e);var r=t(0),i=t.n(r),o=t(32),c=t.n(o),a=(t(44),t(8)),s=t(9),l=i.a.createContext();function b(){var n=Object(r.useContext)(l);return{books:n.books,searchBook:n.searchBook}}function d(){var n=Object(r.useContext)(l);return{addToOrder:n.addToOrder,remove:n.remove,removeAll:n.removeAll}}var m,j,h,u,g,x,f=t(1),O=s.a.li(m||(m=Object(a.a)(["\n  background-color: var(--grey-color);\n  display: grid;\n  width: 90rem;\n  min-height: 40rem;\n  margin: auto;\n  grid-gap: 3rem;\n  grid-template-columns: repeat(3, 1fr);\n"]))),v=s.a.dl(j||(j=Object(a.a)(["\n  position: relative;\n  width: 100%;\n  cursor: pointer;\n  overflow: hidden;\n  .bookImg {\n    img {\n      width: 100%;\n    }\n  }\n  .bookContents {\n    position: absolute;\n    text-align: left;\n    position: absolute;\n    bottom: 0;\n    margin: 0 auto;\n    background-color: rgba(36, 76, 112, 0.9);\n    padding: 15px;\n    opacity: 0;\n    visibility: visible;\n    width: 100%;\n  }\n  &:hover {\n    .bookImg {\n      img {\n        opacity: 0.5;\n      }\n    }\n    .bookContents {\n      opacity: 1;\n      transition: all 0.6s 0s;\n      .bookPublisher {\n        margin-bottom: 0.5rem;\n        font-size: 1.2rem;\n        font-weight: 300;\n        color: var(--darkgrey-color);\n      }\n      .bookTitle {\n        margin-bottom: 1rem;\n        font-size: 1.7rem;\n        font-weight: 600;\n        line-height: 25px;\n        color: var(--white-color);\n      }\n      .bookPrice {\n        font-size: 1.5rem;\n        font-weight: 600;\n        line-height: 25px;\n        color: var(--white-color);\n        strike {\n          color: var(--darkgrey-color);\n          font-size: 1.4rem;\n          margin-left: 1rem;\n        }\n      }\n      .icons {\n        display: flex;\n        cursor: pointer;\n        justify-content: flex-end;\n        img {\n          width: 3rem;\n          height: 3rem;\n          margin-left: 2rem;\n        }\n      }\n    }\n  }\n"]))),p=function(){var n=b().books,e=d().addToOrder;return Object(f.jsx)(O,{children:n.map((function(n){var t=n.isbn,r=n.thumbnail,i=n.title,o=n.price,c=n.sale_price,a=n.publisher,s=n.url;return Object(f.jsxs)(v,{children:[Object(f.jsx)("div",{className:"bookImg",children:Object(f.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:Object(f.jsx)("img",{src:r,alt:r})})}),Object(f.jsxs)("div",{className:"bookContents",children:[Object(f.jsx)("div",{className:"bookPublisher",children:a}),Object(f.jsx)("div",{className:"bookTitle",children:i}),Object(f.jsxs)("div",{className:"bookPrice",children:["\u20a9 ",c.toLocaleString(),Object(f.jsx)("strike",{children:o.toLocaleString()})," "]}),Object(f.jsxs)("div",{className:"icons",children:[Object(f.jsx)("img",{src:"/img/cart.png",alt:"cart",onClick:function(){e(t)}}),Object(f.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:Object(f.jsx)("img",{src:"/img/increase.png",alt:"increase"})})]})]})]},t)}))})},k=t(11),y=s.a.div(h||(h=Object(a.a)(["\n  width: 100rem;\n  margin: 3rem auto;\n  border-radius: 4px;\n  background-color: var(--white-color);\n  padding: 2rem;\n  overflow: hidden;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n  .title {\n    font-family: 'Poppins', sans-serif;\n    color: var(--navy-color);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 5rem;\n  }\n  .books {\n    display: flex;\n  }\n\n  .searchBox {\n    position: relative;\n    width: 70%;\n    height: 5rem;\n    padding: 0 10rem;\n    margin: 4rem auto;\n    background: #fff;\n    text-align: left;\n    box-sizing: border-box;\n  }\n"]))),w=function(){var n=b().searchBook,e=Object(r.useState)(""),t=Object(k.a)(e,2),i=t[0],o=t[1];return Object(f.jsxs)(y,{children:[Object(f.jsx)("h1",{className:"title",children:"LIBRARY"}),Object(f.jsx)("div",{className:"searchBox",children:Object(f.jsx)("input",{type:"search",placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",name:"query",onKeyDown:function(e){13===e.keyCode&&n(i)},onChange:function(n){o(n.target.value)},value:i,className:"input_search"})}),Object(f.jsx)("ul",{children:Object(f.jsx)(p,{})})]})};var N=s.a.aside(u||(u=Object(a.a)(["\n  position: fixed;\n  bottom: 2rem;\n  right: 2rem;\n  width: 40rem;\n  min-height: 30rem;\n  margin-left: auto;\n  border-radius: 4px;\n  padding: 1rem;\n  background-color: var(--white-color);\n  padding: 2rem;\n  overflow: hidden;\n  border: 2px solid var(--navy-color);\n  h1 {\n    text-align: center;\n    margin-bottom: 4rem;\n  }\n  .item {\n    display: flex;\n    // background-color: var(--grey-color);\n    margin-bottom: 1rem;\n  }\n  .bookImg {\n    img {\n      width: 60px;\n      height: 80px;\n    }\n  }\n  .content {\n    margin: 1rem;\n    font-size: 1.4rem;\n    line-height: 20px;\n    align-items: center;\n    width: 80%;\n    .bookTitle {\n      color: var(--black-color);\n      font-weight: 600;\n    }\n    .bookPrice {\n      color: var(--darkgrey-color);\n    }\n  }\n  .icon {\n    display: flex;\n    margin: 1rem 0;\n    img {\n      width: 2rem;\n      height: 2rem;\n    }\n  }\n  .totalItem {\n    margin-top: 1rem;\n    display: flex;\n    //grid-template-columns: repeat(3, 1fr);\n    align-items: center;\n    .total {\n      color: var(--black-color);\n      font-weight: 600;\n      font-size: 1.8rem;\n      width: 67%;\n    }\n    .PriceBox {\n      display: flex;\n      align-items: center;\n      text-align: right;\n      .bookTotalPrice {\n        color: var(--darkgrey-color);\n        font-weight: 600;\n        font-size: 1.8rem;\n        margin-right: 2rem;\n      }\n    }\n  }\n"]))),C=s.a.div(g||(g=Object(a.a)(["\n  font-size: 1.8rem;\n  font-weight: 800;\n  color: var(--navy-color);\n  text-align: center;\n  margin-bottom: 3rem;\n"]))),P=s.a.div(x||(x=Object(a.a)(["\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: var(--navy-color);\n"]))),z=function(){var n=Object(r.useContext)(l).orders,e=b().books,t=d(),i=t.remove,o=t.removeAll,c=Object(r.useMemo)((function(){return n.map((function(n){var t=n.isbn,r=n.quantity;return e.find((function(n){return n.isbn===t})).sale_price*r})).reduce((function(n,e){return n+e}),0)}),[n,e]);return 0===n.length?Object(f.jsxs)(N,{children:[Object(f.jsx)(C,{children:" You Don't have any orders"}),Object(f.jsx)(P,{children:"\ucc45\uc744 \ucd94\uac00\ud574\uc8fc\uc138\uc694."})]}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(N,{children:[Object(f.jsx)(C,{children:"\uc7a5\ubc14\uad6c\ub2c8"}),n.map((function(n){var t=n.isbn,r=e.find((function(n){return n.isbn===t}));return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"item",children:[Object(f.jsx)("div",{className:"bookImg",children:Object(f.jsx)("img",{src:r.thumbnail,alt:r.thumbnail})}),Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)("p",{className:"bookTitle",children:[r.title," ",n.quantity,"\uad8c"]}),Object(f.jsxs)("p",{className:"bookPrice",children:["\u20a9 ",r.sale_price*n.quantity]})]}),Object(f.jsx)("div",{className:"icon",children:Object(f.jsx)("img",{src:"/img/cancel.png",alt:"cancel",onClick:function(){i(t)}})})]},t)})})),Object(f.jsxs)("div",{children:[Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"totalItem",children:[Object(f.jsx)("div",{className:"total",children:"Total"}),Object(f.jsxs)("div",{className:"PriceBox",children:[Object(f.jsxs)("div",{className:"bookTotalPrice",children:[" \u20a9 ",c]}),Object(f.jsx)("div",{className:"icon",children:Object(f.jsx)("img",{src:"/img/cancel.png",alt:"cancel",onClick:o})})]})]})]})]})})},T=function(){return Object(f.jsxs)("div",{children:[" ",Object(f.jsx)(w,{children:Object(f.jsx)(p,{})}),Object(f.jsx)(z,{})]})},B=function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(w,{children:Object(f.jsx)(p,{})}),Object(f.jsx)(z,{})]})},I=t(39),S=t(19),q=t.n(S),A=t(36),F=t(37),L=t.n(F).a.create({baseURL:"https://dapi.kakao.com",headers:{Authorization:"KakaoAK a2ceaaa9b5d8805bcef9c6320a873f8c"}}),_=function(n){return L.get("/v3/search/book?target=title",{params:n})},D=function(n){var e=n.children,t=Object(r.useState)([]),i=Object(k.a)(t,2),o=i[0],c=i[1],a=Object(r.useState)(""),s=Object(k.a)(a,2),b=s[0],d=s[1];Object(r.useEffect)((function(){b.length>0&&m(b,!0)}),[b]);var m=function(){var n=Object(A.a)(q.a.mark((function n(e,t){var r,i,a;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={query:e,sort:"accuracy",page:1,size:10},n.next=3,_(r);case 3:i=n.sent,a=i.data,c(t?a.documents:o.concat(a.documents));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),j=Object(r.useState)([]),h=Object(k.a)(j,2),u=h[0],g=h[1],x=Object(r.useCallback)((function(n){g((function(e){return void 0===e.find((function(e){return e.isbn===n}))?[].concat(Object(I.a)(e),[{isbn:n,quantity:1}]):e.map((function(e){return e.isbn===n?{isbn:n,quantity:e.quantity+1}:e}))}))}),[]),O=Object(r.useCallback)((function(n){g((function(e){return e.filter((function(e){return e.isbn!==n}))}))}),[]),v=Object(r.useCallback)((function(){g([])}),[]);return Object(f.jsx)(l.Provider,{value:{books:o,searchBook:function(n){d(n)},orders:u,addToOrder:x,remove:O,removeAll:v},children:e})},K=t(38),R=t(2);var E=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(D,{children:Object(f.jsx)(K.a,{children:Object(f.jsxs)(R.c,{children:[Object(f.jsx)(R.a,{component:T,exact:!0,path:"/"}),Object(f.jsx)(R.a,{compoennt:B,path:"/library"})]})})})})},J=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,70)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,c=e.getTTFB;t(n),r(n),i(n),o(n),c(n)}))};c.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root")),J()}},[[69,1,2]]]);
//# sourceMappingURL=main.8587ce6b.chunk.js.map